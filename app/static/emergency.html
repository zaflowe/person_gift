<!DOCTYPE html>
<html>

<head>
    <title>Emergency Entry</title>
    <meta charset="utf-8">
    <style>
        body {
            font-family: sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: #1a1a1a;
            color: #fff;
        }

        .card {
            background: #333;
            padding: 2rem;
            border-radius: 8px;
            text-align: center;
        }

        button {
            background: #0070f3;
            color: white;
            border: none;
            padding: 1rem 2rem;
            font-size: 1.2rem;
            cursor: pointer;
            border-radius: 4px;
        }

        button:hover {
            background: #0051a2;
        }
    </style>
</head>

<body>
    <div class="card">
        <h1>ğŸŸ¢ åº”æ€¥é€šé“</h1>
        <p>å‰ç«¯æœåŠ¡å·²æ­»ï¼Œåç«¯ä¸ºæ‚¨æœåŠ¡ã€‚</p>
        <button onclick="enterSystem()">ğŸš€ æ³¨å…¥ä»¤ç‰Œå¹¶èµ·é£</button>
        <p id="status" style="margin-top: 1rem; color: #aaa;"></p>
    </div>

    <script>
        function enterSystem() {
            const token = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6NDk1NTA4NTI3M30.zM7p6d4K6p5I2g7R5o4M3n8U2t1V4w7X2y4Z6a8C3e5";
            document.getElementById('status').innerText = "æ­£åœ¨æ³¨å…¥ 100 å¹´æœ‰æ•ˆæœŸçš„è¶…çº§ä»¤ç‰Œ...";

            // 1. Write to LocalStorage (for frontend app)
            localStorage.setItem("token", token);

            // 2. Write to Cookie (for SSR)
            document.cookie = `token=${token}; path=/; domain=localhost`;

            setTimeout(() => {
                document.getElementById('status').innerText = "è·³è½¬ä¸­...";
                // Redirect to Frontend Dashboard
                window.location.href = "http://localhost:3000/dashboard";
            }, 1000);
        }

        // Auto-run if param present
        if (window.location.search.includes('auto=true')) {
            enterSystem();
        }
    </script>
</body>

</html>